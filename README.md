企业环境及企业文化


实习中遇到的问题及困难
一、	搭建生产环境上遇到的困难：我们作为实习生初到公司时，所有的办公环境都还没有配置，主机没有安装操作系统并且也没有接入公司内网，都需要从头开始安装。
1.	安装机器操作系统：安装操作系统需要员工的工号账号和密码，但是我们的账号头一天一直没有办下来，导致操作系统的安装一直卡住无法进行。在拿到账号密码之后，因为我们五台机器的网络全部接在一台hub上的原因，下载操作系统时网速并不稳定。这些因素都导致在能够成功打开电脑这一步上所消耗的时间显得有些漫长。
2.	安装办公软件：我们参与项目的需要使用的编程语言是python，所以我们需要安装python的解释器，pycharm，同时为了进行版本控制还需要安装git以及一个图形化界面的插件。由于一些网络代理权限的限制，这些办公软件并不能像平常一样通过官网直接进行下载。
3.	配置项目运行环境：为了能使项目能够重新运行，需要在本地安装项目应用的各种python包，但同样因为代理权限的原因不能直接从官网或国内镜像进行下载。同时由于我们使用的是重装的系统所以缺失的包数量非常大。
二、	项目实现过程中遇到的困难：我们的项目是对应用在设备上的命令行进行解析和测试，分到我手上的任务是需要对设备生成的两个版本之间的命令行差异文档（称为基线文档）以及将会对外发布的两个不同命令行版本间的差异文档（称为目标文档）间的区别。更具体的来说，需要检测出哪些差异在目标文档中存在而在基线文档中不存在，哪些差异在基线文档中存在而在目标文档中不存在，对于在两个文档中都存在的差异，需要比较他们的差异类型是否相同，例如如果一条命令行在基线文档中标记的差异类型是删除（即下个版本不在使用）而在目标文档中标记的是变更（即线索表达式或是参数类型或是特性存在变更）则要标记出这两个文档对于同一条命令行变更星系的差异。并最终将所有的对比结果生成一个结果文档。在需求具体的实现过程中也遇到了以下的问题。
1.	了解命令行设计规范和接口规范：需要对命令行进行对比首先是需要对命令行进行简单的解析，在差异文档中记录的命令行都是以线索表达式的形式存在，可以将其看作一种专用的正则表达式的形式。所以需要了解命令行的一些基本设计规范。
2.	测试工具的运用：测试的过程并不直接在本地运行进行测试，而是通过项目中包含的专用的测试工具来完成，这里我们使用的是fastapi框架来完成测试，它可以向目标地址发送相应的http请求，然后调用实现的接口来完成测试。相当于是生成了一个可视化的界面来方便测试的进行，这个框架可以自动匹配函数中需要的参数来生成测试界面，在这一点上显得十分方便。
3.	Python对excel文档的编辑：需求中给出的基线文档和目标文档均是excel文档，所以需要使用python对excel文档进行读写的操作，而且基线文档使用的excel版本较低，常用的openpyxl并不能对这种版本的excel文档进行编译。
4.	命令行比对的算法：对基线文档和目标文档中的命令行进行匹配可以说是这个项目中最困难的部分，首先是两个文档中参数的表示并不一样，在基线文档中参数通过数据类型（字符串，整型等）来进行描述，而在目标文档中参数通过名称（如<ip-value>，<file-name>等）来进行描述，同时在基线文档和目标文档中都存在命令行的合并和拆分的情况，即一个单元格内记录了同一类的多条命令行。同时由于变更文档中命令行以类似正则表达式的方式进行表示，所以在基线文档和目标文档中不同的表示可能描述同一条命令行（例如在目标文档中对一条命令行线索表达式的描述可能只是基线文档中对该命令行的描述的一个子集），需要通过算法的实现来进行匹配。


具体解决方案
这部分内容将于上一部分遇到的问题和困难一一对应
一、	搭建生产环境：
1.	安装操作系统：这一部分没有什么好的解决方案，对于我们来说只能等待管理人员帮我们进行各中流程的申请和审批然后等待系统的安装，在这一个过程中虽然工作没有办法展开但是我们能够利用这一段时间熟悉华为的工作环境和工作节奏。
2.	安装办公软件：由于我们是一批新来的实习生，所以公司内部的各种权限都没有开通，都需要进行申请然后等待审批，获得权限后从公司内部的工具网站上进行下载。
3.	配置项目运行环境：安装需要用到的python包花费了很长的时间，因为即使开通了黄区的网络权限但是还是不能直接使用pip install或是conda install的方法进行安装，只能去镜像网站上将压缩包或是.whl文件下载到本地再通过本地安装的方式进行安装，但是这种方式只能独立的安装软件包而不能直接将包中依赖的其他的包一同安装，而有些包的依赖树有略显庞大，所以这个过程十分耗时。之后我们项目的负责人也找到的技术人员来援助我们，发现可以通过华为内部的工具包安装途径进行安装。在配置项目环境的过程中还发现运行需要用到华为内部实现的python包，而且与我们需要实现的需求关系不大，最终也是我们的项目负责人更改了我们实现部分的项目结构让我们绕开了需要这个依赖的部分。
二、	项目实现过程中：
1.	了解命令行设计规范：这一部分是我们的负责人发给我们了一份命令行设计的相关文档。我们也是阅读了文档中我们需要了解的部分，从中了解到命令行的一些设计规范，例如各种符号代表的含义，不同格式命令行的解析方法等等。
2.	测试工具的使用：之前并没有使用过类似的测试工具，都是在本地进行调试来编写代码，阅读官方文档的过程中也并没有发现详细的使用方法，还是在身边同学的指导下了解了其使用方法，并且在测试的路径上也遇到了一些麻烦（最开始并没有意识到是路径的问题），也是在不断的尝试下发现并解决了问题。
3.	Python对excel文档的编辑：对于文件格式为.xlsx的目标文档可以使用openpyxl对其进行编辑，而对于.xls格式的基线文档则需要使用xlrd和xlwt进行编辑，在对这些工具的使用中也学习到了对单元格格式进行调整等一些更加高级的操作方式。
4.	命令行对比的算法：对于参数格式不统一的问题，是通过正则匹配的方法将所有参数替换成相同格式，即将所有的STRING<0-32>以及<file-name>都替换成<>，因为对于同一条命令行在同一位置并不会接受格式不同的参数所以这样并不会影响匹配的结果。对于命令行的合并的现象，我会将每个单元格中的内容以\n换行符为标志进行拆分


自己的体会

在华为实习这一个月，让我样一个涉世未深的大学生体验了一次打工人的生活，每天早起，坐接驳车，挤地铁上下班，光是通勤就已经足够令人疲惫了，这里的正式员工的工作无论是难度还是工作量肯定都比我们这样的实习生要大得多，算是感受到了成年人的生活不易。
因为工位不够的缘故，我们十个人占用了一间会议室来办公，算是个无人打搅的角落，我们这些学生聚在一起说不定会比一人一个工位更不显得拘谨，而且大家几乎都是没参加过工作的学生，上起手来遇到的问题也多，坐在一块互相交流比较方便。
在工作避免不了会遇到难题的，但解决问题过程中绞尽脑汁带来的充实感，找到解决方案时的柳暗花明，以及解决难题带来的成就感都是令人感到满足的。

